var nts=window.nts||{model:{},view:{},controller:{},dao:{},observer:{},template:{}};nts.controller=function(a,b){var c=this;return c instanceof nts.controller?(c._model=a,c._view=b,c._dao=new nts.dao(c._model),c._init(),c):new nts.controller(a,b)},nts.controller.prototype={_init:function(){this._bindViewEvents(),this._bindModelEvents(),this._dao.callData()},_bindViewEvents:function(){this._view._getMore.on("click",this._onClickChange.bind(this))},_bindModelEvents:function(){this._model.addEventListener("update",this._onUpdateModel.bind(this))},_onClickChange:function(){this._onUpdateModel()},_onUpdateModel:function(){this._view.render(this._model.localData)}},nts.dao=function(a){var b=this;return b instanceof nts.dao?(b._model=a,b._method="GET",b._url="src/json/data.json",b):new nts.dao},nts.dao.prototype={callData:function(){$.ajax({type:this._method,url:this._url,dataType:"json",async:!1}).done($.proxy(this._successHandler,this)).fail(this._failureHandler)},_successHandler:function(a){this._model.localData=a},_failureHandler:function(a){return a?(window.alert("에러가 발생했습니다."),!1):void 0}},nts.model=function(){var a=this;return a instanceof nts.model?(a._data=[],a._observer=new nts.observer,a):new nts.model},nts.model.prototype={get localData(){return this._data},set localData(a){this._data=a.items,this.dispatchEvent("update")},addEventListener:function(a,b){this._observer.subscribe(a,b)},dispatchEvent:function(a){this._observer.publish(a)}},nts.observer=function(){var a=this;return a instanceof nts.observer?(a._eventHandler=$(this),a):new nts.observer},nts.observer.prototype={subscribe:function(a,b){this._eventHandler.on(a,b)},unSubscribe:function(a){this._eventHandler.off(a)},publish:function(a){this._eventHandler.trigger(a)}},nts.template.list='<div class="card_wrap"><div class="card type_basic"><a href="#"><span class="img_wrap"><span class="inner"><img src="{{thumb}}" alt=""></span><span class="time"><span>{{playTime}}</span></span></span><span class="icon">따끈따끈</span><h3 class="title"><span class="menu">{{category}}</span>{{title}}</h3></a><div class="u_likeit_list_module"><a href="#" class="u_likeit_list_btn u_type_bright u_none_txt"><span class="u_ico"></span><em class="u_txt">좋아요</em><em class="u_cnt">0</em></a></div></div></div>',nts.template.bottom='<a href="javascript:void(1);" class="cu_pg_btn"><span class="cu_pg_wrap"><span class="cu_pg_area"><span class="u_pg_lodic"></span><span class="cu_pg_txt">더보기 <span class="cu_pg_cnt">{{current}}/{{total}}</span></span></span></span></a>',nts.template.bottomEnd='<p class="notice_end_ct">마지막 콘텐츠입니다.</p>',nts.view=function(){var a=this;return a instanceof nts.view?(a._length=15,a._observer=new nts.observer,a._init(),a):new nts.view},nts.view.prototype={_init:function(){this._insertTemplate(),this._cacheElements()},_insertTemplate:function(){this._listTemplate=nts.template.list,this._bottomTemplate=nts.template.bottom,this._bottomEndTemplate=nts.template.bottomEnd},_cacheElements:function(){this._getMore=$(".cu_pg_w")},_createFrag:function(a){var b,c,d,e=document.createDocumentFragment(),f=this._length;for(c=f-15;f>c;c+=1)d=a[c],b=this._listTemplate.replace(/\{\{thumb\}\}/g,d.thumb).replace(/\{\{playTime\}\}/g,d.playTime).replace(/\{\{category\}\}/g,d.category).replace(/\{\{title\}\}/g,d.title),e.appendChild($(b)[0]);return e},_listRender:function(a){var b,c=$(".jr_ct");return a.length<this._length?!1:(b=this._createFrag(a),void c.append(b))},_afterRender:function(){$(".u_pg_lodic").removeClass().addClass("ico_view"),this._length+=15},_noticeFinishRender:function(){var a;a=this._bottomEndTemplate,this._getMore.html(a)},_removeEvents:function(){this._getMore.off("click"),this._observer.unSubscribe("update")},_bottomRender:function(a){var b;b=this._bottomTemplate.replace(/\{\{current\}\}/g,this._length.toString()).replace(/\{\{total\}\}/g,a.length.toString()),this._getMore.html(b)},render:function(a){var b=this;a.length<=b._length?(b._noticeFinishRender(),b._removeEvents()):b._bottomRender(a),setTimeout(function(){b._listRender(a),b._afterRender()},200)}};
//# sourceMappingURL=sourcemap.map